<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MercadoShop | Compramos por ti</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
    --azul:#0d6efd;
    --verde:#25D366;
    --gris:#f4f6f9;
}

*{box-sizing:border-box;}

body{
    margin:0;
    font-family:'Segoe UI',Arial,sans-serif;
    background:var(--gris);
}

/* HEADER */
header{
    background:linear-gradient(135deg,#0d6efd,#084298);
    color:white;
    padding:12px 15px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

header h2{font-size:18px;}

.carrito-btn{
    background:white;
    color:#0d6efd;
    padding:6px 12px;
    border-radius:20px;
    font-weight:bold;
}

/* BUSCADOR */
.buscador{
    padding:10px;
}

.buscador input{
    width:100%;
    padding:12px;
    border-radius:12px;
    border:1px solid #ccc;
    font-size:15px;
}

/* CARRUSEL */
.carrusel{
    margin:10px;
    border-radius:12px;
    overflow:hidden;
}

.carrusel img{
    width:100%;
    height:180px;
    object-fit:cover;
    display:none;
}

.carrusel img.activo{display:block;}

.carrusel-btn{
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    background:rgba(0,0,0,.4);
    color:white;
    border:none;
    font-size:20px;
    padding:5px 10px;
}

.prev{left:5px;}
.next{right:5px;}

/* CATEGORIAS SCROLL */
.categorias{
    display:flex;
    gap:10px;
    overflow-x:auto;
    padding:10px;
}

.categorias button{
    flex:0 0 auto;
    padding:8px 14px;
    border:none;
    border-radius:20px;
    background:white;
    font-size:14px;
}

/* PRODUCTOS */
.container{padding:10px;}

.productos{
    display:grid;
    grid-template-columns:repeat(2,1fr);
    gap:10px;
}

.producto{
    background:white;
    border-radius:12px;
    padding:10px;
    box-shadow:0 2px 8px rgba(0,0,0,.1);
}

.producto img{
    width:100%;
    height:120px;
    object-fit:contain;
}

.producto h3{
    font-size:14px;
    margin:5px 0;
}

.precio{
    color:var(--azul);
    font-weight:bold;
    font-size:15px;
}

.btn{
    width:100%;
    padding:8px;
    border:none;
    border-radius:8px;
    font-size:13px;
    margin-top:4px;
}

.btn-carrito{background:var(--azul);color:white;}
.btn-pedir{background:var(--verde);color:white;}

/* CARRITO */
#overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.5);
    display:none;
    z-index:99;
}

#carrito{
    position:fixed;
    bottom:-100%;
    left:0;
    width:100%;
    height:85%;
    background:white;
    border-radius:20px 20px 0 0;
    padding:15px;
    transition:.4s;
    z-index:100;
    overflow-y:auto;
}

#carrito.activo{bottom:0;}

.carrito-item{
    border-bottom:1px solid #ddd;
    padding:8px 0;
}

.eliminar{
    color:red;
    font-size:13px;
}

/* DESKTOP */
@media(min-width:768px){
    .productos{grid-template-columns:repeat(4,1fr);}
    .carrusel img{height:280px;}
}
</style>
</head>

<body>

<header>
    <h2>üõí MercadoShop</h2>
    <div class="carrito-btn" onclick="toggleCarrito()">üõç (<span id="contador">0</span>)</div>
</header>

<div class="buscador">
    <input type="text" id="buscar" placeholder="üîç Buscar productos..." onkeyup="buscarProducto()">
</div>

<div class="carrusel">
    <img src="https://picsum.photos/800/400?1" class="activo">
    <img src="https://picsum.photos/800/400?2">
    <img src="https://picsum.photos/800/400?3">
    <button class="carrusel-btn prev" onclick="cambiar(-1)">‚óÄ</button>
    <button class="carrusel-btn next" onclick="cambiar(1)">‚ñ∂</button>
</div>

<div class="categorias">
    <button onclick="filtrar('todos')">Todos</button>
    <button onclick="filtrar('electronica')">Electr√≥nica</button>
    <button onclick="filtrar('audio')">Audio</button>
    <button onclick="filtrar('hogar')">Hogar</button>
</div>

<div class="container">
<div class="productos">

<div class="producto" data-cat="audio">
<img src="https://picsum.photos/300/200?4">
<h3>Aud√≠fonos Bluetooth</h3>
<p class="precio">$450</p>
<button class="btn btn-carrito" onclick="agregar('Aud√≠fonos Bluetooth',450)">Agregar</button>
<button class="btn btn-pedir" onclick="pedidoDirecto('Aud√≠fonos Bluetooth',450)">Pedir</button>
</div>

<div class="producto" data-cat="electronica">
<img src="https://picsum.photos/300/200?6">
<h3>Smartwatch</h3>
<p class="precio">$850</p>
<button class="btn btn-carrito" onclick="agregar('Smartwatch',850)">Agregar</button>
<button class="btn btn-pedir" onclick="pedidoDirecto('Smartwatch',850)">Pedir</button>
</div>

</div>
</div>

<div id="overlay" onclick="toggleCarrito()"></div>

<div id="carrito">
<h3>Tu carrito</h3>
<div id="lista"></div>
<p><strong>Total: $<span id="total">0</span></strong></p>
<button class="btn btn-pedir" onclick="enviarWhatsApp()">Pedir por WhatsApp</button>
</div>

<script>
let index=0,slides=document.querySelectorAll(".carrusel img");
function cambiar(n){
slides[index].classList.remove("activo");
index=(index+n+slides.length)%slides.length;
slides[index].classList.add("activo");
}
setInterval(()=>cambiar(1),4000);

function filtrar(cat){
document.querySelectorAll(".producto").forEach(p=>{
p.style.display=(cat=="todos"||p.dataset.cat==cat)?"block":"none";
});
}

let carrito=[],total=0;
function toggleCarrito(){
carritoDiv.classList.toggle("activo");
overlay.style.display=carritoDiv.classList.contains("activo")?"block":"none";
}
function agregar(n,p){
carrito.push({n,p});total+=p;actualizar();
}
function actualizar(){
lista.innerHTML="";
carrito.forEach((x,i)=>{
lista.innerHTML+=`${x.n} - $${x.p}<div class="eliminar" onclick="eliminar(${i})">Eliminar</div>`;
});
totalSpan.innerText=total;
contador.innerText=carrito.length;
}
function eliminar(i){
total-=carrito[i].p;carrito.splice(i,1);actualizar();
}
function enviarWhatsApp(){
let t="Hola quiero pedir:%0A";
carrito.forEach(x=>t+=`- ${x.n} $${x.p}%0A`);
window.open("https://wa.me/52TU_NUMERO?text="+t);
}
function pedidoDirecto(n,p){
window.open(`https://wa.me/52TU_NUMERO?text=Quiero pedir ${n} $${p}`);
}

const carritoDiv=document.getElementById("carrito"),
overlay=document.getElementById("overlay"),
lista=document.getElementById("lista"),
totalSpan=document.getElementById("total"),
contador=document.getElementById("contador");
</script>

</body>
</html>
